<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <meta name="theme-color" content="#0071BD" />
  <title>Blog</title>
  <!-- favicon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/images/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/images/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/images/favicon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/images/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/images/favicon/ms-icon-144x144.png">
  <!-- font-awesome css  -->
  <link rel="stylesheet" href="/assets/css/font-awesome.min.css" />
  <!-- bulma css  -->
  <link rel="stylesheet" href="/assets/css/bulma.min.css" />
  <!-- main style css  -->
  <link rel="stylesheet" href="/assets/css/style.css" />
</head>

<body>
  <!-- header-area start -->
  <header id="header">
    <!-- header-area top start -->
    <div class="header-top">
      <div class="container section">
        <nav class="navbar customize-navbar" role="navigation" aria-label="main navigation">
          <!-- navbar brand start -->
          <div class="navbar-brand">
            <a class="navbar-item" href="/">
              <img src="/assets/images/logoes/bytebuilders-logo.svg" />
            </a>

            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
              data-target="navbarBasicExample">
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
            </a>
          </div>
          <!-- navbar brand end -->

          <!-- navbar-menu start -->
          <div id="navbarBasicExample" class="navbar-menu">
            <div class="navbar-end">
              <a href="https://marketplace.byte.builders" class="navbar-item">
                Marketplace
              </a>

              <a href="https://blog.byte.builders" class="navbar-item">
                Blog
              </a>

              <a href="https://appscode.com/about/" class="navbar-item">
                About Us
              </a>

              <a href="https://appscode.com/contact/" class="navbar-item">
                Contact
              </a>

              <div class="navbar-item">
                <div class="buttons">
                  <a href="/user/sign_up" class="button is-light is-primary">
                    Sign up
                  </a>
                  <a href="/user/login" class="button is-primary">
                    Sign in
                  </a>
                </div>
              </div>
            </div>
          </div>
          <!-- navbar-menu end -->
        </nav>
      </div>
    </div>
    <!-- header-area top end -->
  </header>
  <!-- header-area end -->

  <!-- blog heading start  -->
  <section class="blog-heading-area section-padding">
    <div class="container section">
      <div class="columns">
        <div class="column has-text-centered">

          <!-- blog heading start  -->
          <div class="blog-heading">
            <p class="meta-date"><i class="fa fa-calendar" aria-hidden="true"></i> 1-Jan-19</p>
            <h1><a href="#">The case for AppBinding</a></h1>
            <p class="author"><span>by </span><a href="#">Tamal Saha</a></p>
          </div>
          <!-- blog heading end -->

          <!-- blog large image start -->
          <figure>
            <a href="#">
              <img src="/assets/images/blog-image/blog-large-images/1.jpg" alt="">
              <figcaption>capture operational knowledge in a software form</figcaption>
            </a>
          </figure>
          <!-- blog large image end -->

        </div>
      </div>
    </div>
  </section>
  <!-- blog heading end -->

  <!-- blog details area start  -->
  <section class="blog-details-area">
    <div class="container section">
      <div class="columns">
        <div class="column is-2">
          <!-- sticky social menu start  -->
          <div class="sticky-social-menu">
            <div class="social-link-vertical">
              <ul>
                <li>
                  <a href="#"><i class="fa fa-share-alt" aria-hidden="true"></i></a>
                </li>
                <li>
                  <a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
                </li>
                <li>
                  <a href="https://twitter.com/AppsCodeHQ"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                </li>
                <li>
                  <a href="https://www.facebook.com/appscode"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                </li>
              </ul>
            </div>
          </div>
          <!--sticky  social menu end -->
        </div>
        <div class="column is-8">
          <!-- blog-content start  -->
          <div class="blog-content">

            <!-- general content start  -->
            <p>Kubernetes has become the de-facto orchestrator for the cloud native world. Kubernetes upholds the
              philosophy that the core should be small and allow developers to write their own extensions. One way to
              introduce new resource types is using CustomResourceDefintions (CRD) (originally known as
              ThirdPartyResources). Using CRDs anyone can define a new resource type that behaves like standard
              Kubernetes resources. This allows anyone to write a controller for custom resources and capture
              operational knowledge in a software form. CoreOS popularized the term <a href="#"
                class="inline-button">“operators”</a> as a name for this pattern.</p>

            <p>At <a href="#" class="inline-button">AppsCode</a> , we have used this model to build various Kubernetes
              native applications. For example, we have been working on a project called <a href="#"
                class="inline-button">KubeDB</a> that automates the management of databases on Kubernetes. This is kind
              of like AWS RDS but using containers running on Kubernetes. For example, to deploy a PostgreSQL database
              you can use a yaml definition like below:</p>
            <!-- general content end -->

            <!-- code block start  -->
            <div class="code-block-wrapper">
              <div class="code-block-heading">
                <div class="code-title">
                  <h4>PostgreSQL database</h4>
                </div>
                <div class="copy-button">
                  <button class="copy-here" title="Copy">
                    <img src="/assets/images/icons/copy.svg" alt="copy-icon">
                  </button>
                </div>
              </div>
              <pre>
apiVersion: kubedb.com/v1alpha1
kind: Postgres
metadata:
  name: quick-postgres
  namespace: demo
spec:
  version: "10.2-v1"
  storageType: Durable
  storage:
    storageClassName: "standard"
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 1Gi
  terminationPolicy: DoNotTerminate
              </pre>
            </div>
            <!-- code block end -->
            <h2>Connecting Operators</h2>
            <p>As time goes on, more and more functionality of running the day to day operations on Kubernetes is
              captured via CRDs and their associated operators. For example, our users have been <a href="#"
                class="inline-button">asking</a> us to support user management for KubeDB managed databases using <a
                href="#" class="inline-button">HashiCorp</a> Vault. Vault is a secret management server for various
              types of secrets including Database secrets. We have been working on a project called <a href="#"
                class="inline-button">KubeVault</a> to bring a Kubernetes native experience for secret management via
              Vault. Now, one of the challenges we face is how to connect CRDs from <a href="#"
                class="inline-button">KubeDB</a> project with CRDs from KubeVault project. Here are the requirements:
            </p>

            <!-- list-items start  -->
            <ul>
              <li>Users should not be forced to use both projects. They may choose to use one of the projects for their
                intended purpose. But they should be able to leverage them both for additional functionality.</li>
              <li>Users should be able to bring in databases managed outside a Kubernetes cluster and use the KubeVault
                operator to issue secrets for such databases. For example, a user may be using an AWS RDS managed
                database. They want to use the KubeVault project to manage secrets for such databases. Or, users may
                want to provision databases using Helm charts but use KubeVault for user management.</li>
            </ul>
            <p>These requirements mean that we can’t tightly couple CRDs from different projects. Rather we need an
              intermediate resource that can connect services managed by different tools.</p>

            <!-- list-items end -->
            <h2>Connection Configuration</h2>
            <p>The key piece of information needed to connect different services are usually an URL for the application,
              some secret credential and/or some configuration parameters. So, we considered using a standard Kubernetes
              Service object. But that will mean that we have to use annotations to point to additional secrets and
              configmaps for such a Service. We would like to avoid using annotations for specification. Also, if such a
              service is hosted outside a Kubernetes cluster, a Kubernetes Service object seems like the wrong place to
              store connection information.</p>

            <!-- blockquote start  -->
            <blockquote>
              "The key piece of information needed to connect different services are usually an URL for the application,
              some secret credential and/or some configuration parameters. So, we considered using a standard Kubernetes
              Service object."
            </blockquote>
            <div class="name-descriptor">Tomas Albart, <span>Product designer at <a href="#" class="inline-button">AWS</a></span></div>
            <!-- blockquote end -->

            <!-- list item with general content start  -->
            <h2>Service Catalog</h2>
            <p>We looked around to see if this problem has been addressed by others in the community. The closed project
              we found is <a href="#" class="inline-button">Service Catalog</a>. Service Catalog lets anyone provision
              cloud services directly from the comfort of native Kubernetes tooling. This project brings integration
              with service brokers to the Kubernetes ecosystem via the <a href="#" class="inline-button">Open Service
                Broker API</a>. Service catalog project has a resource type called <a href="#"
                class="inline-button">ServiceBinding</a> that can be used to represent connection information for a
              resource managed via service broker. But it has 2 major issues:</p>

            <ul>
              <li>Service catalog expects resources to be managed by a service broker. But in our case, the resource may
                be already present and not managed by any broker. Going back to our prior example, a user may already
                have an AWS RDS managed PostgreSQL database. They just want to manage its secrets using KubeVault.</li>
              <li>Service catalog project is implemented as a Kubernetes extended apiserver. This means users of a
                service catalog has to deploy and manage an additional etcd cluster. This introduced significant
                operational complexity for users. The friction of depending on an extended apiserver is unacceptable for
                an operator like KubeVault.</li>
            </ul>
            <p>Here is an example of an AppBinding that points to a PostgreSQL instance.</p>
            <!-- list item with general content end -->

            <!-- code block start  -->
            <div class="code-block-wrapper">
              <div class="code-block-heading">
                <div class="code-title">
                  <h4>PostgreSQL database</h4>
                </div>
                <div class="copy-button">
                  <button class="copy-here" title="Copy">
                    <img src="/assets/images/icons/copy.svg" alt="copy-icon">
                  </button>
                </div>
              </div>
              <pre>
apiVersion: appcatalog.appscode.com/v1alpha1
kind: AppBinding
metadata:
  name: postgres-app
  namespace: demo
spec:
  secret:
    name: postgres-user-cred # secret
  clientConfig:
    service:
      name: postgres
      scheme: postgresql
      port: 5432
      path: "postgres"
      query: "sslmode=disable"
    insecureSkipTLSVerify: true
  parameters:
    # names of the allowed roles to use this connection config in Vault
    allowedRoles: "*"
            </pre>
            <p>Now, KubeVault operator can refer to this database object from it’s own CRD and issue secrets accordingly.</p>
            </div>
            <!-- code block end -->

            <!-- general text start  -->
            <p>You can find the type definition and auto-generated Go client for AppBinding on <a href="#" class="inline-button">GitHub.</a></p>
            <p>If you have read all the way to the end, I want to thank you. If you have any questions and want to know more, you can reach me via <a href="#" class="inline-button">Twitter or Email.</a></p>
            <!-- general text end -->

            <div class="tags">
              <a href="#" class="tag">kubernetes</a>
              <a href="#" class="tag">crd</a>
              <a href="#" class="tag">service-catalog</a>
            </div>
          </div>
          <!-- blog-content end -->
        </div>
      </div>
    </div>
  </section>
  <!-- blog details area end -->

  <!-- cta-area start  -->
  <section class="cta-area section-padding">
    <div class="container section">
      <div class="columns">
        <div class="column is-5 has-text-left">
          <div class="section-title is-dark-bg">
            <h2>Get Up and Running Quickly</h2>
            <p>
              Deploy, manage, upgrade Kubernetes on any cloud and automate deployment, scaling, and management of
              containerized applications.
            </p>
          </div>
          <div class="cta-buttons buttons">
            <a href="/user/sign_up" class="button is-primary is-large">Get started free</a>
            <a href="https://appscode.com/meet-expert/" class="button is-large">Get a Demo</a>
          </div>
        </div>
        <div class="column is-4 is-offset-3">
          <div class="right-sidebar style-1">
            <div class="right-sidebar-inner">
              <div class="single-sidebar-item">
                <h5>Want to host dedicated setup? We got you.</h5>
                <a href="https://appscode.com/contact/" class="inline-button">Contact us</a>
              </div>
              <div class="single-sidebar-item">
                <h5>Need Support SLA for AppsCode OSS projects?</h5>
                <a href="https://appscode.com/pricing/" class="inline-button">Purchase our commercial support
                  package</a>
              </div>
              <div class="single-sidebar-item">
                <h5>Interested in Professional Services &amp; Training?</h5>
                <a href="https://appscode.com/consulting/" class="inline-button">Explore our services</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- cta-area end -->

  <!-- footer area start  -->
  <footer class="footer-area">
    <!-- footer top start  -->
    <div class="footer-top">
      <div class="container section">
        <div class="columns">
          <div class="column is-4">
            <div class="single-footer-widget">
              <div class="footer-logo">
                <a href="https://appscode.com"><img src="/assets/images/logoes/bytebuilders-logo.svg" alt=""
                    class="img" /></a>
              </div>
              <!-- subscription area start  -->
              <div class="subscription-form">
                <form
                  action="https://appscode.us17.list-manage.com/subscribe/post?u=feb2bf31969a951e7449048a3&amp;id=82fb19acb9"
                  method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="navbar-form"
                  target="_blank" novalidate="" role="email">
                  <h4>Subscribe to Our Newsletter</h4>
                  <p class="spam-message">
                    No spam, we promise. Your mail address is secure
                  </p>
                  <div class="field has-addons">
                    <div class="control">
                      <input class="input" name="EMAIL" id="mce-EMAIL" type="email"
                        placeholder="Your work email address" required="" />
                      <button id="mc-embedded-subscribe" type="submit" name="subscribe" class="subscription-button">
                        <i class="fa fa-paper-plane-o" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
                </form>
              </div>
              <!-- subscription area end  -->
              <!-- contact info start  -->
              <div class="contact-information">
                <h4>Have any Inquiry?</h4>
                <ul class="all-contact-info">
                  <li>
                    <a href="callto:+1%28650%29241-8486"><span><i class="fa fa-phone"
                          aria-hidden="true"></i></span>+1(650)241-8486</a>
                  </li>

                  <li>
                    <a href="mailto:support@appscode.com"><span><i class="fa fa-envelope-o"
                          aria-hidden="true"></i></span>support@appscode.com</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <!-- subscription area end  -->
          <div class="column is-2">
            <div class="single-footer-widget">
              <div class="footer-menu">
                <h4>Products</h4>
                <ul class="footer-link">
                  <li><a href="https://kubedb.com">KubeDB</a></li>
                  <li>
                    <a href="https://appscode.com/products/stash/">Stash</a>
                  </li>
                  <li><a href="https://kubevault.com">KubeVault</a></li>
                  <li>
                    <a href="https://appscode.com/products/voyager/">Voyager</a>
                  </li>
                  <li>
                    <a href="https://appscode.com/products/guard/">Guard</a>
                  </li>
                  <li><a href="https://pharmer.io">Pharmer</a></li>
                </ul>
              </div>
            </div>
          </div>

          <div class="column is-2">
            <div class="single-footer-widget">
              <div class="footer-menu">
                <h4>Services</h4>
                <ul class="footer-link">
                  <li>
                    <a href="https://appscode.com/consulting/">Consulting</a>
                  </li>
                  <li>
                    <a href="https://appscode.com/training/">Training</a>
                  </li>
                  <li><a href="https://appscode.com/support/">Support</a></li>
                </ul>
              </div>
            </div>
          </div>

          <div class="column is-2">
            <div class="single-footer-widget">
              <div class="footer-menu">
                <h4>Company</h4>
                <ul class="footer-link">
                  <li><a href="https://appscode.com/about/">About Us</a></li>
                  <li><a href="https://blog.byte.builders">Blog</a></li>
                  <li>
                    <a href="https://appscode.com/contact/">Contact Us</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div class="column is-2">
            <div class="single-footer-widget">
              <div class="footer-menu">
                <h4>Legal</h4>
                <ul class="footer-link">
                  <li>
                    <a href="https://appscode.com/legal/tos/">Terms of Sevice</a>
                  </li>
                  <li>
                    <a href="https://appscode.com/legal/privacy-policy/">Privacy Policy</a>
                  </li>
                  <li>
                    <a href="https://appscode.com/legal/security/">Security</a>
                  </li>
                  <li>
                    <a href="https://appscode.com/legal/sla/">Service Level Agreement</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- footer top end  -->

    <!-- footer bottom start  -->
    <div class="footer-bottom">
      <div class="container section">
        <div class="columns">
          <div class="column is-4">
            <p>© 2019 AppsCode Inc. All rights reserved.</p>
          </div>
          <div class="column is-4 has-text-centered-desktop has-text-left-touch">
            <div class="footer-inline-link">
              <a href="https://appscode.com/legal/privacy-policy/">Privacy Policy</a>
              <a href="https://appscode.com/legal/tos/">Terms of Service</a>
            </div>
          </div>
          <div class="column is-4 has-text-right-desktop has-text-left-touch">
            <div class="social-link-inline">
              <ul>
                <li>
                  <a href="https://twitter.com/AppsCodeHQ"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                </li>
                <li>
                  <a href="https://www.facebook.com/appscode"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                </li>
                <li>
                  <a href="https://www.youtube.com/c/AppsCodeInc"><i class="fa fa-youtube" aria-hidden="true"></i></a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- footer bottom end  -->
  </footer>
  <!-- footer area end -->

  <!-- go-to-top start  -->
  <button class="go-to-top" id="goTop">
    <i class="fa fa-angle-up" aria-hidden="true"></i>
  </button>
  <!-- go-to-top end -->

  <!-- Main JS -->
  <script src="/assets/js/main.js"></script>
</body>

</html>